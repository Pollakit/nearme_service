{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\work\\\\proj4thyear\\\\rn-starter\\\\src\\\\screens\\\\ShopScreen.js\";\n\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Searchbox from \"../components/Searchbox\";\nimport { useState, useEffect } from \"react\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport COLORS from \"../consts/colors\";\n\nvar _Dimensions$get = Dimensions.get('screen'),\n    width = _Dimensions$get.width;\n\nvar cardWidth = width - 20;\n\nvar ShopScreen = function ShopScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Shops = _useState2[0],\n      setShops = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Canteens = _useState4[0],\n      setCanteens = _useState4[1];\n\n  useEffect(function () {\n    ShopsloadData();\n    CanteenloadData();\n  }, []);\n\n  var ShopsloadData = function ShopsloadData() {\n    var response, data;\n    return _regeneratorRuntime.async(function ShopsloadData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(window.apiurl + 'api/shops/shops/market/' + navigation.getParam('canteenid') + '/'));\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            data = _context.sent;\n            setShops(data);\n            console.log(data);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var CanteenloadData = function CanteenloadData() {\n    var response, data;\n    return _regeneratorRuntime.async(function CanteenloadData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch(window.apiurl + 'api/markets/markets/' + navigation.getParam('canteenid') + '/'));\n\n          case 2:\n            response = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            data = _context2.sent;\n            setCanteens(data);\n            console.log(data);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var Card = function Card(_ref2) {\n    var stores = _ref2.stores;\n    return React.createElement(TouchableHighlight, {\n      underlayColor: COLORS.white,\n      activeOpacity: 0.9,\n      onPress: function onPress() {\n        return navigation.navigate('Menu');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: style.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: {\n        alignItems: 'flex-end',\n        top: 20,\n        left: -20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, React.createElement(Image, {\n      source: stores.main_image,\n      style: {\n        height: 120,\n        width: 120,\n        borderRadius: 15\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: {\n        marginHorizontal: 20,\n        marginVertical: -80\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 18,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, stores.name), React.createElement(Text, {\n      style: {\n        fontSize: 16,\n        color: COLORS.grey,\n        marginTop: 2\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, stores.category), React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: style.addToFavoriteBtn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, React.createElement(Icon, {\n      name: \"star\",\n      size: 20,\n      color: COLORS.white,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }\n    }))))));\n  };\n\n  if (Shops === '') {\n    return React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 12\n      }\n    }, \"No stores\");\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: COLORS.white\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: style.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      marginTop: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 22,\n      color: COLORS.dark\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Near\"), React.createElement(Text, {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 22,\n      color: COLORS.primary,\n      marginBottom: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Me\"), React.createElement(Text, {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 22,\n      color: COLORS.dark,\n      marginBottom: 20,\n      marginLeft: 290\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 22,\n      fontWeight: 'bold'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E49\\u0E32\\u0E19\\u0E2D\\u0E32\\u0E2B\\u0E32\\u0E23\\u0E20\\u0E32\\u0E22\\u0E43\\u0E19\")), React.createElement(Text, {\n    style: {\n      marginTop: 5,\n      fontSize: 22,\n      color: COLORS.primary\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, Canteens.name), React.createElement(View, {\n    style: {\n      marginTop: 20,\n      flexDirection: 'row',\n      paddingHorizontal: 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: style.inputContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, React.createElement(Icon, {\n    name: \"search\",\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      flex: 1,\n      fontSize: 18\n    },\n    placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E23\\u0E49\\u0E32\\u0E19\\u0E2D\\u0E32\\u0E2B\\u0E32\\u0E23\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: style.searchBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, React.createElement(Icon, {\n    name: \"search\",\n    size: 28,\n    color: COLORS.white,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }))))), React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    numColumns: 1,\n    data: Shops,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(Card, {\n        stores: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 33\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar style = StyleSheet.create({\n  header: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20\n  },\n  card: {\n    height: 160,\n    width: cardWidth,\n    marginHorizontal: 10,\n    marginBottom: 10,\n    marginTop: 10,\n    borderRadius: 15,\n    elevation: 13,\n    backgroundColor: COLORS.light\n  },\n  inputContainer: {\n    flex: 1,\n    height: 50,\n    borderRadius: 10,\n    flexDirection: 'row',\n    backgroundColor: COLORS.light,\n    alignItems: 'center',\n    paddingHorizontal: 20\n  },\n  searchBtn: {\n    width: 50,\n    height: 50,\n    marginLeft: 10,\n    backgroundColor: COLORS.primary,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  addToFavoriteBtn: {\n    height: 35,\n    width: 35,\n    borderRadius: 20,\n    backgroundColor: COLORS.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 125,\n    marginTop: 20\n  }\n});\nexport default ShopScreen;","map":{"version":3,"sources":["C:/work/proj4thyear/rn-starter/src/screens/ShopScreen.js"],"names":["React","Searchbox","useState","useEffect","Icon","COLORS","Dimensions","get","width","cardWidth","ShopScreen","route","navigation","Shops","setShops","Canteens","setCanteens","ShopsloadData","CanteenloadData","fetch","window","apiurl","getParam","response","json","data","console","log","Card","stores","white","navigate","style","card","alignItems","top","left","main_image","height","borderRadius","marginHorizontal","marginVertical","fontSize","fontWeight","name","color","grey","marginTop","category","flexDirection","addToFavoriteBtn","flex","backgroundColor","header","dark","primary","marginBottom","marginLeft","paddingHorizontal","inputContainer","searchBtn","item","StyleSheet","create","justifyContent","elevation","light"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Text, StyleSheet, ScrollView, TouchableOpacity, FlatList, Image, View, Dimensions,TouchableHighlight, TextInput } from 'react-native';\r\nimport Searchbox from '../components/Searchbox';\r\nimport { useState, useEffect } from \"react\";\r\nimport Icon from 'react-native-vector-icons/MaterialIcons';\r\nimport COLORS from '../consts/colors';\r\n\r\n\r\nconst {width} = Dimensions.get('screen');   //get size of current screen to calculate card width \r\nconst cardWidth = width - 20;               //card width constant when we have 2 cards per row\r\n\r\n\r\n\r\nconst ShopScreen = ({ route, navigation}) => {\r\n\r\n  //const { canteenid } = route.params;\r\n\r\n  const [Shops, setShops] = useState([]);\r\n  const [Canteens, setCanteens] = useState([]);\r\n\r\n  useEffect(() => {\r\n    ShopsloadData();\r\n    CanteenloadData();\r\n  }, []);\r\n\r\n\r\n const ShopsloadData = async () => {\r\n    const response = await fetch(window.apiurl + 'api/shops/shops/market/' + navigation.getParam('canteenid') + '/');\r\n    const data = await response.json();\r\n    setShops(data);\r\n    console.log(data);\r\n  }\r\n\r\n  const CanteenloadData = async () => {\r\n    const response = await fetch(window.apiurl + 'api/markets/markets/' + navigation.getParam('canteenid') + '/');\r\n    const data = await response.json();\r\n    setCanteens(data);\r\n    console.log(data);\r\n  }\r\n\r\n  const Card = ({stores}) => {\r\n    return (\r\n      <TouchableHighlight\r\n        underlayColor={COLORS.white}\r\n        activeOpacity={0.9}\r\n        onPress={() => navigation.navigate('Menu')}>\r\n        <View style={style.card}>\r\n          <View style={{alignItems: 'flex-end', top: 20, left:-20 }}>\r\n            <Image source={stores.main_image} style={{height: 120, width: 120, borderRadius: 15}} />\r\n          </View>\r\n          <View style={{marginHorizontal: 20, marginVertical: -80}}>\r\n            <Text style={{fontSize: 18, fontWeight: 'bold'}}>{stores.name}</Text>\r\n            <Text style={{fontSize: 16, color: COLORS.grey, marginTop: 2}}>\r\n              {stores.category}\r\n            </Text>\r\n            <View style={{flexDirection: 'row'}}>\r\n              <View style={style.addToFavoriteBtn}>\r\n                  <Icon name=\"star\" size={20} color={COLORS.white} />\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </TouchableHighlight>\r\n    );\r\n  };\r\n\r\n/*\r\n  const shops = [\r\n    { name: 'Shop1', shopimg: require('../../assets/menu/FriedRice.jpg'), description:'thai food', goto: 'Menu', canteenloc:'phrathep' },\r\n    { name: 'Shop2', shopimg: require('../../assets/menu/FriedRice.jpg'), description:'international food', goto: 'Menu', canteenloc:'phrathep' },\r\n    { name: 'Shop3', shopimg: require('../../assets/menu/FriedRice.jpg'), description:'Noodle ', goto: 'Menu', canteenloc:'phrathep'}\r\n  ];\r\n*/\r\n  if (Shops === '') {\r\n    return <div>No stores</div>;\r\n  }\r\n\r\n  return (\r\n    <View style={{flex: 1, backgroundColor: COLORS.white}}>\r\n      <View style={style.header}>\r\n        <View>\r\n        <View style={{flexDirection: 'row', marginTop: 10, }}>\r\n          <Text style={{fontWeight: 'bold', fontSize: 22, color: COLORS.dark}}>\r\n            Near\r\n          </Text>\r\n          <Text\r\n            style={{fontWeight: 'bold', fontSize: 22, color: COLORS.primary, marginBottom: 20}}>\r\n            Me\r\n          </Text>\r\n          <Text\r\n            style={{fontWeight: 'bold', fontSize: 22, color: COLORS.dark, marginBottom: 20, marginLeft: 290}}>\r\n          </Text>\r\n        </View>\r\n          <View style={{flexDirection: 'row'}}>\r\n            <Text style={{fontSize: 22, fontWeight: 'bold'}}>กรุณาเลือกร้านอาหารภายใน</Text>\r\n          </View>\r\n          <Text style={{marginTop: 5, fontSize: 22, color: COLORS.primary}}>\r\n            {Canteens.name}\r\n          </Text>\r\n          <View\r\n        style={{\r\n          marginTop: 20,\r\n          flexDirection: 'row',\r\n          paddingHorizontal: 0,\r\n        }}>\r\n        <View style={style.inputContainer}>\r\n          <Icon name=\"search\" size={28} />\r\n          <TextInput\r\n            style={{flex: 1, fontSize: 18}}\r\n            placeholder=\"ค้นหาร้านอาหาร\"\r\n          />\r\n        </View>\r\n        <View style={style.searchBtn}>\r\n          <Icon name=\"search\" size={28} color={COLORS.white} />\r\n        </View>\r\n      </View>\r\n        </View>\r\n        \r\n      </View>\r\n      <FlatList\r\n        showsVerticalScrollIndicator={false}\r\n        numColumns={1}\r\n        data={Shops}\r\n        renderItem={({item}) => <Card stores={item} />}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst style = StyleSheet.create({\r\n  header: {\r\n    marginTop: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 20,\r\n  },\r\n  card: {\r\n    height: 160,\r\n    width: cardWidth,\r\n    marginHorizontal: 10,\r\n    marginBottom: 10,\r\n    marginTop: 10,\r\n    borderRadius: 15,\r\n    elevation: 13,\r\n    backgroundColor: COLORS.light,\r\n  },\r\n  inputContainer: {\r\n    flex: 1,\r\n    height: 50,\r\n    borderRadius: 10,\r\n    flexDirection: 'row',\r\n    backgroundColor: COLORS.light,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  searchBtn: {\r\n    width: 50,\r\n    height: 50,\r\n    marginLeft: 10,\r\n    backgroundColor: COLORS.primary,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  addToFavoriteBtn: {\r\n    height: 35,\r\n    width: 35,\r\n    borderRadius: 20,\r\n    backgroundColor: COLORS.primary,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginLeft: 125,\r\n    marginTop: 20,\r\n  },\r\n});\r\n\r\nexport default ShopScreen;"]},"metadata":{},"sourceType":"module"}